"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _typography = require("../../typography");

var _theme = require("../../theme");

var Tab =
/*#__PURE__*/
function (_PureComponent) {
  (0, _inherits2.default)(Tab, _PureComponent);

  function Tab() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2.default)(this, Tab);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Tab)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)), "handleClick", function (e) {
      _this.props.onClick(e);

      _this.props.onSelect();
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)), "handleKeyPress", function (e) {
      if (e.key === 'Enter' || e.key === ' ') {
        _this.props.onSelect();

        e.preventDefault();
      }

      _this.props.onKeyPress(e);
    });
    return _this;
  }

  (0, _createClass2.default)(Tab, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          theme = _this$props.theme,
          is = _this$props.is,
          height = _this$props.height,
          onSelect = _this$props.onSelect,
          isSelected = _this$props.isSelected,
          appearance = _this$props.appearance,
          props = (0, _objectWithoutProperties2.default)(_this$props, ["theme", "is", "height", "onSelect", "isSelected", "appearance"]);
      var textSize = theme.getTextSizeForControlHeight(height);
      var elementBasedProps;

      if (is === 'a') {
        // Use aria-current when it's a link
        // https://tink.uk/using-the-aria-current-attribute/
        elementBasedProps = isSelected ? {
          'aria-current': 'page'
        } : {};
      } else {
        // Use a role="tablist" around the tabs
        // Also pass down a aria-controls="panelId"
        // https://www.stefanjudis.com/blog/aria-selected-and-when-to-use-it/
        elementBasedProps = {
          'aria-selected': isSelected,
          role: 'tab'
        };
      }

      return _react.default.createElement(_typography.Text, (0, _extends2.default)({
        className: theme.getTabClassName(appearance),
        is: is,
        size: textSize,
        height: height
      }, Tab.styles, props, {
        onClick: this.handleClick,
        onKeyPress: this.handleKeyPress
      }, elementBasedProps));
    }
  }]);
  return Tab;
}(_react.PureComponent);

Tab.displayName = "Tab";
(0, _defineProperty2.default)(Tab, "propTypes", (0, _objectSpread2.default)({}, _typography.Text.propTypes, {
  /**
   * Function triggered when tab is selected.
   */
  onSelect: _propTypes.default.func,

  /**
   * When true, the tab is selected.
   */
  isSelected: _propTypes.default.bool,

  /**
   * The appearance of the tab.
   * The default theme only comes with a default style.
   */
  appearance: _propTypes.default.string,

  /**
   * Theme provided by ThemeProvider.
   */
  theme: _propTypes.default.object.isRequired
}));
(0, _defineProperty2.default)(Tab, "defaultProps", {
  onClick: function onClick() {},
  onSelect: function onSelect() {},
  onKeyPress: function onKeyPress() {},
  is: 'span',
  height: 28
});
(0, _defineProperty2.default)(Tab, "styles", {
  display: 'inline-flex',
  fontWeight: 500,
  paddingX: 8,
  marginX: 4,
  borderRadius: 3,
  lineHeight: '28px',
  alignItems: 'center',
  justifyContent: 'center',
  textDecoration: 'none',
  tabIndex: 0
});

var _default = (0, _theme.withTheme)(Tab);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YWJzL3NyYy9UYWIuanMiXSwibmFtZXMiOlsiVGFiIiwiZSIsInByb3BzIiwib25DbGljayIsIm9uU2VsZWN0Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJvbktleVByZXNzIiwidGhlbWUiLCJpcyIsImhlaWdodCIsImlzU2VsZWN0ZWQiLCJhcHBlYXJhbmNlIiwidGV4dFNpemUiLCJnZXRUZXh0U2l6ZUZvckNvbnRyb2xIZWlnaHQiLCJlbGVtZW50QmFzZWRQcm9wcyIsInJvbGUiLCJnZXRUYWJDbGFzc05hbWUiLCJzdHlsZXMiLCJoYW5kbGVDbGljayIsImhhbmRsZUtleVByZXNzIiwiUHVyZUNvbXBvbmVudCIsIlRleHQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJmdW5jIiwiYm9vbCIsInN0cmluZyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJkaXNwbGF5IiwiZm9udFdlaWdodCIsInBhZGRpbmdYIiwibWFyZ2luWCIsImJvcmRlclJhZGl1cyIsImxpbmVIZWlnaHQiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJ0ZXh0RGVjb3JhdGlvbiIsInRhYkluZGV4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0lBRU1BLEc7Ozs7Ozs7Ozs7Ozs7Ozs7O29JQWtEVSxVQUFBQyxDQUFDLEVBQUk7QUFDakIsWUFBS0MsS0FBTCxDQUFXQyxPQUFYLENBQW1CRixDQUFuQjs7QUFDQSxZQUFLQyxLQUFMLENBQVdFLFFBQVg7QUFDRCxLO3VJQUVnQixVQUFBSCxDQUFDLEVBQUk7QUFDcEIsVUFBSUEsQ0FBQyxDQUFDSSxHQUFGLEtBQVUsT0FBVixJQUFxQkosQ0FBQyxDQUFDSSxHQUFGLEtBQVUsR0FBbkMsRUFBd0M7QUFDdEMsY0FBS0gsS0FBTCxDQUFXRSxRQUFYOztBQUNBSCxRQUFBQSxDQUFDLENBQUNLLGNBQUY7QUFDRDs7QUFDRCxZQUFLSixLQUFMLENBQVdLLFVBQVgsQ0FBc0JOLENBQXRCO0FBQ0QsSzs7Ozs7OzZCQUVRO0FBQUEsd0JBU0gsS0FBS0MsS0FURjtBQUFBLFVBRUxNLEtBRkssZUFFTEEsS0FGSztBQUFBLFVBR0xDLEVBSEssZUFHTEEsRUFISztBQUFBLFVBSUxDLE1BSkssZUFJTEEsTUFKSztBQUFBLFVBS0xOLFFBTEssZUFLTEEsUUFMSztBQUFBLFVBTUxPLFVBTkssZUFNTEEsVUFOSztBQUFBLFVBT0xDLFVBUEssZUFPTEEsVUFQSztBQUFBLFVBUUZWLEtBUkU7QUFXUCxVQUFNVyxRQUFRLEdBQUdMLEtBQUssQ0FBQ00sMkJBQU4sQ0FBa0NKLE1BQWxDLENBQWpCO0FBRUEsVUFBSUssaUJBQUo7O0FBQ0EsVUFBSU4sRUFBRSxLQUFLLEdBQVgsRUFBZ0I7QUFDZDtBQUNBO0FBQ0FNLFFBQUFBLGlCQUFpQixHQUFHSixVQUFVLEdBQzFCO0FBQ0UsMEJBQWdCO0FBRGxCLFNBRDBCLEdBSTFCLEVBSko7QUFLRCxPQVJELE1BUU87QUFDTDtBQUNBO0FBQ0E7QUFDQUksUUFBQUEsaUJBQWlCLEdBQUc7QUFDbEIsMkJBQWlCSixVQURDO0FBRWxCSyxVQUFBQSxJQUFJLEVBQUU7QUFGWSxTQUFwQjtBQUlEOztBQUVELGFBQ0UsNkJBQUMsZ0JBQUQ7QUFDRSxRQUFBLFNBQVMsRUFBRVIsS0FBSyxDQUFDUyxlQUFOLENBQXNCTCxVQUF0QixDQURiO0FBRUUsUUFBQSxFQUFFLEVBQUVILEVBRk47QUFHRSxRQUFBLElBQUksRUFBRUksUUFIUjtBQUlFLFFBQUEsTUFBTSxFQUFFSDtBQUpWLFNBS01WLEdBQUcsQ0FBQ2tCLE1BTFYsRUFNTWhCLEtBTk47QUFPRSxRQUFBLE9BQU8sRUFBRSxLQUFLaUIsV0FQaEI7QUFRRSxRQUFBLFVBQVUsRUFBRSxLQUFLQztBQVJuQixTQVNNTCxpQkFUTixFQURGO0FBYUQ7OztFQTVHZU0sb0I7O0FBQVpyQixHOzhCQUFBQSxHLCtDQUtDc0IsaUJBQUtDLFM7QUFFUjs7O0FBR0FuQixFQUFBQSxRQUFRLEVBQUVvQixtQkFBVUMsSTs7QUFFcEI7OztBQUdBZCxFQUFBQSxVQUFVLEVBQUVhLG1CQUFVRSxJOztBQUV0Qjs7OztBQUlBZCxFQUFBQSxVQUFVLEVBQUVZLG1CQUFVRyxNOztBQUV0Qjs7O0FBR0FuQixFQUFBQSxLQUFLLEVBQUVnQixtQkFBVUksTUFBVixDQUFpQkM7OzhCQTFCdEI3QixHLGtCQTZCa0I7QUFDcEJHLEVBQUFBLE9BQU8sRUFBRSxtQkFBTSxDQUFFLENBREc7QUFFcEJDLEVBQUFBLFFBQVEsRUFBRSxvQkFBTSxDQUFFLENBRkU7QUFHcEJHLEVBQUFBLFVBQVUsRUFBRSxzQkFBTSxDQUFFLENBSEE7QUFJcEJFLEVBQUFBLEVBQUUsRUFBRSxNQUpnQjtBQUtwQkMsRUFBQUEsTUFBTSxFQUFFO0FBTFksQzs4QkE3QmxCVixHLFlBcUNZO0FBQ2Q4QixFQUFBQSxPQUFPLEVBQUUsYUFESztBQUVkQyxFQUFBQSxVQUFVLEVBQUUsR0FGRTtBQUdkQyxFQUFBQSxRQUFRLEVBQUUsQ0FISTtBQUlkQyxFQUFBQSxPQUFPLEVBQUUsQ0FKSztBQUtkQyxFQUFBQSxZQUFZLEVBQUUsQ0FMQTtBQU1kQyxFQUFBQSxVQUFVLEVBQUUsTUFORTtBQU9kQyxFQUFBQSxVQUFVLEVBQUUsUUFQRTtBQVFkQyxFQUFBQSxjQUFjLEVBQUUsUUFSRjtBQVNkQyxFQUFBQSxjQUFjLEVBQUUsTUFURjtBQVVkQyxFQUFBQSxRQUFRLEVBQUU7QUFWSSxDOztlQTBFSCxzQkFBVXZDLEdBQVYsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vLi4vdHlwb2dyYXBoeSdcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gJy4uLy4uL3RoZW1lJ1xuXG5jbGFzcyBUYWIgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgVGV4dCBjb21wb25lbnQgYXMgdGhlIGJhc2UuXG4gICAgICovXG4gICAgLi4uVGV4dC5wcm9wVHlwZXMsXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0cmlnZ2VyZWQgd2hlbiB0YWIgaXMgc2VsZWN0ZWQuXG4gICAgICovXG4gICAgb25TZWxlY3Q6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCB0aGUgdGFiIGlzIHNlbGVjdGVkLlxuICAgICAqL1xuICAgIGlzU2VsZWN0ZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHRhYi5cbiAgICAgKiBUaGUgZGVmYXVsdCB0aGVtZSBvbmx5IGNvbWVzIHdpdGggYSBkZWZhdWx0IHN0eWxlLlxuICAgICAqL1xuICAgIGFwcGVhcmFuY2U6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBUaGVtZSBwcm92aWRlZCBieSBUaGVtZVByb3ZpZGVyLlxuICAgICAqL1xuICAgIHRoZW1lOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgfVxuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgb25DbGljazogKCkgPT4ge30sXG4gICAgb25TZWxlY3Q6ICgpID0+IHt9LFxuICAgIG9uS2V5UHJlc3M6ICgpID0+IHt9LFxuICAgIGlzOiAnc3BhbicsXG4gICAgaGVpZ2h0OiAyOFxuICB9XG5cbiAgc3RhdGljIHN0eWxlcyA9IHtcbiAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICBwYWRkaW5nWDogOCxcbiAgICBtYXJnaW5YOiA0LFxuICAgIGJvcmRlclJhZGl1czogMyxcbiAgICBsaW5lSGVpZ2h0OiAnMjhweCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIHRleHREZWNvcmF0aW9uOiAnbm9uZScsXG4gICAgdGFiSW5kZXg6IDBcbiAgfVxuXG4gIGhhbmRsZUNsaWNrID0gZSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNsaWNrKGUpXG4gICAgdGhpcy5wcm9wcy5vblNlbGVjdCgpXG4gIH1cblxuICBoYW5kbGVLZXlQcmVzcyA9IGUgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2VsZWN0KClcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uS2V5UHJlc3MoZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICB0aGVtZSxcbiAgICAgIGlzLFxuICAgICAgaGVpZ2h0LFxuICAgICAgb25TZWxlY3QsXG4gICAgICBpc1NlbGVjdGVkLFxuICAgICAgYXBwZWFyYW5jZSxcbiAgICAgIC4uLnByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IHRleHRTaXplID0gdGhlbWUuZ2V0VGV4dFNpemVGb3JDb250cm9sSGVpZ2h0KGhlaWdodClcblxuICAgIGxldCBlbGVtZW50QmFzZWRQcm9wc1xuICAgIGlmIChpcyA9PT0gJ2EnKSB7XG4gICAgICAvLyBVc2UgYXJpYS1jdXJyZW50IHdoZW4gaXQncyBhIGxpbmtcbiAgICAgIC8vIGh0dHBzOi8vdGluay51ay91c2luZy10aGUtYXJpYS1jdXJyZW50LWF0dHJpYnV0ZS9cbiAgICAgIGVsZW1lbnRCYXNlZFByb3BzID0gaXNTZWxlY3RlZFxuICAgICAgICA/IHtcbiAgICAgICAgICAgICdhcmlhLWN1cnJlbnQnOiAncGFnZSdcbiAgICAgICAgICB9XG4gICAgICAgIDoge31cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXNlIGEgcm9sZT1cInRhYmxpc3RcIiBhcm91bmQgdGhlIHRhYnNcbiAgICAgIC8vIEFsc28gcGFzcyBkb3duIGEgYXJpYS1jb250cm9scz1cInBhbmVsSWRcIlxuICAgICAgLy8gaHR0cHM6Ly93d3cuc3RlZmFuanVkaXMuY29tL2Jsb2cvYXJpYS1zZWxlY3RlZC1hbmQtd2hlbi10by11c2UtaXQvXG4gICAgICBlbGVtZW50QmFzZWRQcm9wcyA9IHtcbiAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBpc1NlbGVjdGVkLFxuICAgICAgICByb2xlOiAndGFiJ1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8VGV4dFxuICAgICAgICBjbGFzc05hbWU9e3RoZW1lLmdldFRhYkNsYXNzTmFtZShhcHBlYXJhbmNlKX1cbiAgICAgICAgaXM9e2lzfVxuICAgICAgICBzaXplPXt0ZXh0U2l6ZX1cbiAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgIHsuLi5UYWIuc3R5bGVzfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgIG9uS2V5UHJlc3M9e3RoaXMuaGFuZGxlS2V5UHJlc3N9XG4gICAgICAgIHsuLi5lbGVtZW50QmFzZWRQcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhUaGVtZShUYWIpXG4iXX0=
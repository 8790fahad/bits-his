{"ast":null,"code":"import _defineProperty from \"/root/Desktop/bits-his/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/root/Desktop/bits-his/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/Desktop/bits-his/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/root/Desktop/bits-his/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/root/Desktop/bits-his/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/root/Desktop/bits-his/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/root/Desktop/bits-his/frontend/src/components/Pharmacy Module/AddDrug.js\";\nimport React from 'react';\nimport FreeScrollBar from 'react-free-scrollbar';\nimport { Card, CardBody, Table, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { FaPlus, FaEdit, FaTrash } from 'react-icons/fa';\nimport { _postData, _convertArrOfObjToArr } from '../helpers';\n\nvar AddDrugForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddDrugForm, _React$Component);\n\n  function AddDrugForm(props) {\n    var _this;\n\n    _classCallCheck(this, AddDrugForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddDrugForm).call(this, props));\n\n    _this.clearFields = function () {\n      _this.setState({\n        name: '',\n        unit_of_issue: '',\n        quantity: '',\n        price: '',\n        expiry_date: ''\n      });\n    };\n\n    _this.onInputChange = function (_ref) {\n      var _this$setState;\n\n      var target = _ref.target;\n      return _this.setState((_this$setState = {}, _defineProperty(_this$setState, target.name, target.value), _defineProperty(_this$setState, \"validationText\", ''), _this$setState));\n    };\n\n    _this.onAddClick = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          date_brought = _this$state.date_brought,\n          name = _this$state.name,\n          unit_of_issue = _this$state.unit_of_issue,\n          quantity = _this$state.quantity,\n          price = _this$state.price,\n          expiry_date = _this$state.expiry_date;\n      if (name === '' || unit_of_issue === '' || quantity === '' || price === '' || expiry_date === '') return _this.setState({\n        validationText: 'Please fill all fields'\n      });\n      var formData = {\n        date_brought: date_brought,\n        name: name,\n        unit_of_issue: unit_of_issue,\n        quantity: quantity,\n        price: price,\n        expiry_date: expiry_date\n      };\n      var _this$props = _this.props,\n          currentIndex = _this$props.currentIndex,\n          currentItem = _this$props.currentItem,\n          editList = _this$props.editList,\n          saveToList = _this$props.saveToList;\n      currentItem.name ? editList(formData, currentIndex) : saveToList(formData);\n\n      _this.clearFields();\n    };\n\n    var _this$props$currentIt = _this.props.currentItem,\n        _name = _this$props$currentIt.name,\n        _unit_of_issue = _this$props$currentIt.unit_of_issue,\n        _quantity = _this$props$currentIt.quantity,\n        _price = _this$props$currentIt.price,\n        _expiry_date = _this$props$currentIt.expiry_date;\n    _this.state = {\n      date_brought: new Date(),\n      name: _name || '',\n      unit_of_issue: _unit_of_issue || '',\n      quantity: _quantity || '',\n      price: _price || '',\n      expiry_date: _expiry_date || '',\n      validationText: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddDrugForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          date_brought = _this$state2.date_brought,\n          name = _this$state2.name,\n          unit_of_issue = _this$state2.unit_of_issue,\n          quantity = _this$state2.quantity,\n          price = _this$state2.price,\n          expiry_date = _this$state2.expiry_date,\n          validationText = _this$state2.validationText;\n      var onAddClick = this.onAddClick,\n          onInputChange = this.onInputChange;\n      return React.createElement(\"form\", {\n        onSubmit: onAddClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Date:\"), React.createElement(\"input\", {\n        className: \"form-control col-md-4\",\n        value: date_brought.toLocaleDateString(),\n        name: \"date_brought\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Item Name:\"), React.createElement(\"input\", {\n        className: \"form-control col-md-4\",\n        value: name,\n        name: \"name\",\n        onChange: onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Unit of Issue\"), React.createElement(\"input\", {\n        className: \"form-control col-md-4\",\n        value: unit_of_issue,\n        name: \"unit_of_issue\",\n        onChange: onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Quantity:\"), React.createElement(\"input\", {\n        className: \"form-control col-md-4\",\n        value: quantity,\n        name: \"quantity\",\n        onChange: onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"input\", {\n        className: \"form-control col-md-4\",\n        value: price,\n        name: \"price\",\n        onChange: onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Expiry Date:\"), React.createElement(\"input\", {\n        className: \"form-control col-md-4\",\n        value: expiry_date,\n        name: \"expiry_date\",\n        onChange: onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), validationText.length ? React.createElement(\"p\", {\n        style: {\n          color: 'red',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, validationText) : null, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"offset-md-5  col-xs-6 col-sm-6 col-md-2 btn btn-outline-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, this.props.currentItem.name ? 'Save' : React.createElement(FaPlus, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AddDrugForm;\n}(React.Component);\n\nAddDrugForm.defaultProps = {\n  currentItem: {},\n  editList: function editList(f) {\n    return f;\n  },\n  saveToList: function saveToList(f) {\n    return f;\n  }\n};\n\nvar AddDrug =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(AddDrug, _React$Component2);\n\n  function AddDrug() {\n    var _this2;\n\n    _classCallCheck(this, AddDrug);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(AddDrug).call(this));\n\n    _this2.clearTable = function () {\n      _this2.setState({\n        list: []\n      });\n    };\n\n    _this2.onSubmitClick = function (e) {\n      e.preventDefault();\n\n      var data = _convertArrOfObjToArr(_this2.state.list);\n\n      var route = 'drugs/addDrugs';\n\n      _postData({\n        route: route,\n        data: data\n      });\n\n      _this2.clearTable();\n    };\n\n    _this2.onRemoveClick = function (item) {\n      var list = _this2.state.list;\n      var newList = list.filter(function (i) {\n        return i.name !== item.name;\n      });\n\n      _this2.setState({\n        list: newList\n      });\n    };\n\n    _this2.toggleEditModal = function () {\n      return _this2.setState(function (prevState) {\n        return {\n          editModalIsOpen: !prevState.editModalIsOpen\n        };\n      });\n    };\n\n    _this2.saveCurrentItem = function (currentItem, currentIndex) {\n      return _this2.setState({\n        currentItem: currentItem,\n        currentIndex: currentIndex\n      });\n    };\n\n    _this2.onEditClick = function (currentItem, i) {\n      // console.log(currentItem);\n      _this2.toggleEditModal();\n\n      _this2.saveCurrentItem(currentItem, i);\n    };\n\n    _this2.saveToList = function (data) {\n      var list = _this2.state.list;\n      var newList = list.concat(data);\n\n      _this2.setState({\n        list: newList\n      });\n    };\n\n    _this2.editList = function (data, index) {\n      var list = _this2.state.list; // let newList = list.map(i => i.name === data.name ? data : i);\n\n      var newList = [];\n      list.forEach(function (item, i) {\n        if (i === index) newList.push(data);else newList.push(item);\n      }); // console.log(newList);\n\n      _this2.setState({\n        list: newList\n      });\n\n      _this2.toggleEditModal();\n    };\n\n    _this2.state = {\n      list: [],\n      currentItem: {},\n      currentIndex: null,\n      editModalIsOpen: false\n    };\n    return _this2;\n  }\n\n  _createClass(AddDrug, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          list = _this$state3.list,\n          currentItem = _this$state3.currentItem,\n          currentIndex = _this$state3.currentIndex;\n      var onSubmitClick = this.onSubmitClick,\n          saveToList = this.saveToList,\n          editList = this.editList;\n      return React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Add New Stock to Store\"), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(AddDrugForm, {\n        saveToList: saveToList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(ListTable, {\n        list: list,\n        onEditClick: this.onEditClick,\n        onRemoveClick: this.onRemoveClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(EditModal, {\n        currentItem: currentItem,\n        currentIndex: currentIndex,\n        editList: editList,\n        editModalIsOpen: this.state.editModalIsOpen,\n        toggleEditModal: this.toggleEditModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-primary offset-md-2\",\n        onClick: onSubmitClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return AddDrug;\n}(React.Component);\n\nexport { AddDrug as default };\n\nvar ListTable = function ListTable(_ref2) {\n  var list = _ref2.list,\n      onEditClick = _ref2.onEditClick,\n      onRemoveClick = _ref2.onRemoveClick;\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '25vh'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, React.createElement(FreeScrollBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, React.createElement(Table, {\n    striped: true,\n    hover: true,\n    bordered: true,\n    responsive: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, \"S/N\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, \"Unit of Issue\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }, \"Quantity\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }, \"Price\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277\n    },\n    __self: this\n  }, \"Expiry Date\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, \"Delete\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  }, list.map(function (item, i) {\n    return React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, i + 1), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, item.date_brought.toLocaleDateString()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, item.unit_of_issue), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, item.quantity), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, item.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, item.expiry_date), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n      onClick: function onClick() {\n        return onEditClick(item, i);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(FaEdit, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger col-xs-12 col-sm-12 col-md-12 col-lg-12\",\n      onClick: function onClick() {\n        return onRemoveClick(item);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(FaTrash, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }))));\n  })))));\n};\n\nvar EditModal = function EditModal(_ref3) {\n  var currentItem = _ref3.currentItem,\n      currentIndex = _ref3.currentIndex,\n      toggleEditModal = _ref3.toggleEditModal,\n      editModalIsOpen = _ref3.editModalIsOpen,\n      editList = _ref3.editList;\n  return React.createElement(Modal, {\n    isOpen: editModalIsOpen,\n    toggle: toggleEditModal,\n    size: \"lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, React.createElement(ModalHeader, {\n    toggle: toggleEditModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }, \"Edit Drug Information\"), React.createElement(ModalBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }, React.createElement(AddDrugForm, {\n    currentItem: currentItem,\n    currentIndex: currentIndex,\n    editList: editList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  })));\n};","map":{"version":3,"sources":["/root/Desktop/bits-his/frontend/src/components/Pharmacy Module/AddDrug.js"],"names":["React","FreeScrollBar","Card","CardBody","Table","Modal","ModalHeader","ModalBody","FaPlus","FaEdit","FaTrash","_postData","_convertArrOfObjToArr","AddDrugForm","props","clearFields","setState","name","unit_of_issue","quantity","price","expiry_date","onInputChange","target","value","onAddClick","e","preventDefault","state","date_brought","validationText","formData","currentIndex","currentItem","editList","saveToList","Date","toLocaleDateString","length","color","textAlign","Component","defaultProps","f","AddDrug","clearTable","list","onSubmitClick","data","route","onRemoveClick","item","newList","filter","i","toggleEditModal","prevState","editModalIsOpen","saveCurrentItem","onEditClick","concat","index","forEach","push","ListTable","width","height","map","EditModal"],"mappings":"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","sourcesContent":["import React from 'react';\nimport FreeScrollBar from 'react-free-scrollbar';\nimport {\n  Card,\n  CardBody,\n  Table,\n  Modal,\n  ModalHeader,\n  ModalBody,\n} from 'reactstrap';\nimport {FaPlus,FaEdit, FaTrash} from 'react-icons/fa';\nimport { _postData, _convertArrOfObjToArr } from '../helpers';\n\nclass AddDrugForm extends React.Component {\n  constructor(props) {\n    super(props);\n    let {\n      name,\n      unit_of_issue,\n      quantity,\n      price,\n      expiry_date,\n    } = this.props.currentItem;\n    this.state = {\n      date_brought: new Date(),\n      name: name || '',\n      unit_of_issue: unit_of_issue || '',\n      quantity: quantity || '',\n      price: price || '',\n      expiry_date: expiry_date || '',\n      validationText: '',\n    };\n  }\n\n  clearFields = () => {\n    this.setState({\n      name: '',\n      unit_of_issue: '',\n      quantity: '',\n      price: '',\n      expiry_date: '',\n    });\n  };\n\n  onInputChange = ({ target }) =>\n    this.setState({ [target.name]: target.value, validationText: '' });\n\n  onAddClick = e => {\n    e.preventDefault();\n    const {\n      date_brought,\n      name,\n      unit_of_issue,\n      quantity,\n      price,\n      expiry_date,\n    } = this.state;\n    if (\n      name === '' ||\n      unit_of_issue === '' ||\n      quantity === '' ||\n      price === '' ||\n      expiry_date === ''\n    )\n      return this.setState({ validationText: 'Please fill all fields' });\n    const formData = {\n      date_brought,\n      name,\n      unit_of_issue,\n      quantity,\n      price,\n      expiry_date,\n    };\n\n    const { currentIndex, currentItem, editList, saveToList } = this.props;\n\n    currentItem.name ? editList(formData, currentIndex) : saveToList(formData);\n\n    this.clearFields();\n  };\n\n  render() {\n    const {\n      date_brought,\n      name,\n      unit_of_issue,\n      quantity,\n      price,\n      expiry_date,\n      validationText,\n    } = this.state;\n    const { onAddClick, onInputChange } = this;\n    return (\n      <form onSubmit={onAddClick}>\n        <div className=\"row\">\n          <label className=\"col-md-2\">Date:</label>\n          <input\n            className=\"form-control col-md-4\"\n            value={date_brought.toLocaleDateString()}\n            name=\"date_brought\"\n            disabled\n          />\n        </div>\n        <br />\n        <div className=\"row\">\n          <label className=\"col-md-2\">Item Name:</label>\n          <input\n            className=\"form-control col-md-4\"\n            value={name}\n            name=\"name\"\n            onChange={onInputChange}\n          />\n          <label className=\"col-md-2\">Unit of Issue</label>\n          <input\n            className=\"form-control col-md-4\"\n            value={unit_of_issue}\n            name=\"unit_of_issue\"\n            onChange={onInputChange}\n          />\n        </div>\n        <br />\n        <div className=\"row\">\n          <label className=\"col-md-2\">Quantity:</label>\n          <input\n            className=\"form-control col-md-4\"\n            value={quantity}\n            name=\"quantity\"\n            onChange={onInputChange}\n          />\n          <label className=\"col-md-2\">Price</label>\n          <input\n            className=\"form-control col-md-4\"\n            value={price}\n            name=\"price\"\n            onChange={onInputChange}\n          />\n        </div>\n        <br />\n        <div className=\"row\">\n          <label className=\"col-md-2\">Expiry Date:</label>\n          <input\n            className=\"form-control col-md-4\"\n            value={expiry_date}\n            name=\"expiry_date\"\n            onChange={onInputChange}\n          />\n        </div>\n        {validationText.length ? (\n          <p style={{ color: 'red', textAlign: 'center' }}>{validationText}</p>\n        ) : null}\n        <button\n          type=\"submit\"\n          className=\"offset-md-5  col-xs-6 col-sm-6 col-md-2 btn btn-outline-secondary\">\n          {this.props.currentItem.name ? 'Save' : <FaPlus />}\n        </button>\n      </form>\n    );\n  }\n}\n\nAddDrugForm.defaultProps = {\n  currentItem: {},\n  editList: f => f,\n  saveToList: f => f,\n};\n\nexport default class AddDrug extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      list: [],\n      currentItem: {},\n      currentIndex: null,\n      editModalIsOpen: false,\n    };\n  }\n\n  clearTable = () => {\n    this.setState({ list: [] });\n  };\n\n  onSubmitClick = e => {\n    e.preventDefault();\n    let data = _convertArrOfObjToArr(this.state.list);\n    let route = 'drugs/addDrugs';\n    _postData({ route, data });\n    this.clearTable();\n  };\n\n  onRemoveClick = item => {\n    const { list } = this.state;\n    let newList = list.filter(i => i.name !== item.name);\n    this.setState({ list: newList });\n  };\n\n  toggleEditModal = () =>\n    this.setState(prevState => ({\n      editModalIsOpen: !prevState.editModalIsOpen,\n    }));\n\n  saveCurrentItem = (currentItem, currentIndex) =>\n    this.setState({ currentItem, currentIndex });\n\n  onEditClick = (currentItem, i) => {\n    // console.log(currentItem);\n    this.toggleEditModal();\n    this.saveCurrentItem(currentItem, i);\n  };\n\n  saveToList = data => {\n    const { list } = this.state;\n    let newList = list.concat(data);\n    this.setState({ list: newList });\n  };\n\n  editList = (data, index) => {\n    const { list } = this.state;\n    // let newList = list.map(i => i.name === data.name ? data : i);\n    let newList = [];\n    list.forEach((item, i) => {\n      if (i === index) newList.push(data);\n      else newList.push(item);\n    });\n    // console.log(newList);\n    this.setState({ list: newList });\n    this.toggleEditModal()\n  };\n\n  render() {\n    const { list, currentItem, currentIndex } = this.state;\n    const { onSubmitClick, saveToList, editList } = this;\n    return (\n      <Card>\n        <h5 className=\"text-center\">Add New Stock to Store</h5>\n        <CardBody>\n          <AddDrugForm saveToList={saveToList} />\n\n          <ListTable\n            list={list}\n            onEditClick={this.onEditClick}\n            onRemoveClick={this.onRemoveClick}\n          />\n          <EditModal\n            currentItem={currentItem}\n            currentIndex={currentIndex}\n            editList={editList}\n            editModalIsOpen={this.state.editModalIsOpen}\n            toggleEditModal={this.toggleEditModal}\n          />\n        </CardBody>\n        <div>\n          {/* <button className=\"btn btn-outline-danger offset-md-4\">\n          Close\n        </button> */}\n        <button className=\"btn btn-outline-primary offset-md-2\" onClick={onSubmitClick}>\n          Submit\n        </button>\n        </div>\n      </Card>\n    );\n  }\n}\n\nconst ListTable = ({ list, onEditClick, onRemoveClick }) => (\n  <div style={{ width: '100%', height: '25vh' }}>\n    <FreeScrollBar>\n      <Table striped hover bordered responsive>\n        <thead>\n          <tr>\n            <th>S/N</th>\n            <th>Date</th>\n            <th>Name</th>\n            <th>Unit of Issue</th>\n            <th>Quantity</th>\n            <th>Price</th>\n            <th>Expiry Date</th>\n            <th>Edit</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          {list.map((item, i) => (\n            <tr key={i}>\n              <td>{i + 1}</td>\n              <td>{item.date_brought.toLocaleDateString()}</td>\n              <td>{item.name}</td>\n              <td>{item.unit_of_issue}</td>\n              <td>{item.quantity}</td>\n              <td>{item.price}</td>\n              <td>{item.expiry_date}</td>\n              <td>\n                <button\n                  className=\"btn btn-primary col-xs-12 col-sm-12 col-md-12 col-lg-12\"\n                  onClick={() => onEditClick(item, i)}>\n                  <FaEdit />\n                </button>\n              </td>\n              <td>\n                <button\n                  className=\"btn btn-danger col-xs-12 col-sm-12 col-md-12 col-lg-12\"\n                  onClick={() => onRemoveClick(item)}>\n                  <FaTrash/>\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </FreeScrollBar>\n  </div>\n);\n\nconst EditModal = ({\n  currentItem,\n  currentIndex,\n  toggleEditModal,\n  editModalIsOpen,\n  editList,\n}) => (\n  <Modal isOpen={editModalIsOpen} toggle={toggleEditModal} size=\"lg\">\n    <ModalHeader toggle={toggleEditModal}>Edit Drug Information</ModalHeader>\n    <ModalBody>\n      <AddDrugForm\n        currentItem={currentItem}\n        currentIndex={currentIndex}\n        editList={editList}\n      />\n    </ModalBody>\n  </Modal>\n);\n"]},"metadata":{},"sourceType":"module"}